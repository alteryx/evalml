from setuptools import find_packages
import os

if __name__ == "__main__":
    all_modules = find_packages()
    test_dir = "evalml/tests"
    all_test_dirs_with_init_files = [module for module in all_modules if "evalml.tests" in module]
    all_test_dirs = [dirname for dirname, _, files in os.walk(test_dir) if "__pycache__" not in dirname and "test" in os.path.split(dirname)[1]]
    assert len(all_test_dirs) == len(all_test_dirs_with_init_files)

